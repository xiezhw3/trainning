# 单机 Agent
[TOC]

## 简介
stage2 的任务是完成 stage1 的 agent 的 web 端。我使用 angularjs 和 bootstrap 来实现。因为前一段时间实习中的工作比较忙，导致没有充足的时间内学习和完成任务。所以到现在才完成 stage2 的内容。下面说一下这个项目中遇到的问题。

## 遇到的问题
### 跨域问题
因为 api 部分和 web 部分是不在同一个项目，所以在 web 通过 js 访问 api 的数据的时候就会出现跨域问题，一跨是我尝试使用 flask 的 CORS 来解决跨域问题、然后发现其并不能解决问题。经过询问导师，后面采用 nginx 转发的方式。在使用 nginx 后因为没有使用 wsgi，所以转发的请求在后台没有被正确解析。经过查询发现可以使用 nwsgi，但发现 nwsgi 无法自定义运行指令，所以也没办法使用。后来经过查看组内的一个项目，采用和该项目一样的方法，使用 wsgiServer 解决了问题。

###web
因为以前较少接触前端，所以关于 js，css 等部分的知识掌握的不多。利益方面因为我在实习目前负责的部分也和前端有关，所以我将两者结合在一起学习。

就 web 部分来说，除了前面的跨域问题，还有一个就是代码问题。因为这个 agent 系统各个部分相似性较大，所以页面之间的代码重复度会比较高。另外因为对 angularjs 的模板语言不熟悉，导致前期使用了不少冗余的代码，所以花了不少时间在代码重构方面。

## 总结
一个方面是实习工作较忙，以至于周末也要花一部分时间解决工作的问题，剩下的时间才能完成作业，另外也因为对 web 部分掌握不够，导致中间遇到的问题较多，解决的速度太慢，比如跨域问题。导致这次的作业花了很长时间才完成。

另外，因为在 web 部分用到了部分组内的代码，所以这次的作业不再提交到 github，而是提交到公司的 gitlab。

## Contact

E-mail：xiezhw3@163.com
