# api 文档
[TOC]

## 简介
stage4 的任务是优化系统 api 以及完成 api 文档。因为我的系统原来就是以 api 的方式进行工作的，所以在代码方面没有进行太多的修改。然后完成了 api 文档。

另外，根据 stage2 和 stage3 的导师 review 结果，对项目进行了一定的改进，改进如下：

* 修复后台时间处理问题，修复后先后太时间显示一致
* 修复时间选择无效问题，并对时间选择进行了一定处理，因为时间间隔太长会导致页面渲染太慢，所以做了一定的限制
* 对 consumer 做了一定的可用性优化，在链接数据库失败的时候回进行一定的重试以避免消息的丢失。另外，在 compose 文件中已经提供了 restart 机制，在城西退出的时候回自动重启服务
* 提供了服务处理脚本，可以通过脚本方便地 build 镜像，启停服务。具体请看 README 文件
* 对代码进行了规范，使用 pylint 测试完全符合规范

## 问题
因为这次的任务没有涉及到很多技术问题，所以整个过程基本没有遇到问题。

## 总结
从前面两次导师 review 的结果来看，stage2 做的比较糟糕，尤其是在 web 展示方面，不管是显示还是效率都有很大的改进空间。stage3 中对这些进行了一定的改进，但是在项目的使用方面没有处理好，导致服务的启停不够方便。这次对这些问题都做了改进。使得项目更为完善。

stage2 出现的问题有很大的原因是对前端的不熟悉。导致一开始没有好好设计前端代码结构，在编码过程中不断修改导致代码结构较乱。效率也较差。另外因为时间问题，没有充足的时间认真检查代码。导致了较多问题。在后面会认真处理这类的问题。

## 说明
关于服务端的启停请看 README 文件的说明

## Contact
E-mail: xiezhw3@163.com
